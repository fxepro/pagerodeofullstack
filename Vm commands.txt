cd /opt/pagerodeofullstack
git pull origin main
cd studio && npm run build
sudo systemctl restart pagerodeo-backend
sudo systemctl restart pagerodeo-frontend
sudo systemctl restart nginx
sudo systemctl status pagerodeo-backend
sudo systemctl status pagerodeo-frontend

---------------------------------------------------------------

cat .env | grep -E "CSRF_TRUSTED_ORIGINS|FRONTEND_URL|ALLOWED_HOSTS|DEBUG"

---------------------------------------------------------------
Fix: Port 8000 is already in use
Run these commands on your server:
# 1. Find what's using port 8000
sudo lsof -i :8000# 

OR
sudo netstat -tulpn | grep 8000# 

OR
sudo ss -tulpn | grep 8000

Then kill whatever is using it:

# 2. Stop the backend service first

sudo systemctl stop pagerodeo-backend# 

3. Kill any process using port 8000 (replace PID with the number you found)
sudo kill -9 <PID># 

OR kill all Python/gunicorn processes

sudo pkill -9 gunicorn# 

4. Wait a momentsleep 2# 

5. Start the service again

sudo systemctl start pagerodeo-backend# 

6. Check if it's working

sudo systemctl status pagerodeo-backend
Quick one-liner to kill everything on port 8000:



Break the restart loop
Run these commands on your server:

# 1. STOP the service completely (breaks the restart loop)
sudo systemctl stop pagerodeo-backend

# 2. Kill ALL gunicorn processes
sudo pkill -9 gunicorn

# 3. Kill anything using port 8000
sudo fuser -k 8000/tcp

# 4. Wait a momentsleep 3

# 5. Verify port 8000 is free
sudo lsof -i :8000
# Should show nothing

# 6. Now start the servicesudo systemctl start pagerodeo-backend

# 7. Check statussudo systemctl status pagerodeo-backend
If fuser doesn't work, try: